<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión Documental - Trámites</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
    <div class="container-fluid">
        <!-- Header -->
        <header class="bg-light py-3 mb-4">
            <div class="container">

                <p class="mb-0 text-muted" style="font-size: 0.9rem;">Ejemplo Creación de Trámites</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container">
            <!-- Action Buttons -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="d-flex gap-3">
                        <button id="btnCrearTramite" class="btn btn-primary btn-lg">
                            <i class="fas fa-plus-circle me-2"></i>
                            Crear Trámite
                        </button>
                        <button id="btnCrearDocumento" class="btn btn-success btn-lg">
                            <i class="fas fa-plus-circle me-2"></i>
                            Crear Documento
                        </button>
                    </div>
                </div>
            </div>

            <!-- Table Container -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header bg-light">
                            <h5 class="mb-0">
                                <i class="fas fa-table me-2"></i>
                                Trámites
                            </h5>
                        </div>
                        <div class="card-body">
                            <div id="tablaTramitesContainer">
                                <!-- La tabla se generará dinámicamente -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal para Crear Trámite -->
    <div class="modal fade" id="modalCrearTramite" tabindex="-1" aria-labelledby="modalCrearTramiteLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalCrearTramiteLabel">
                        Crear Nuevo Trámite
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="formCrearTramite">
                        <!-- Nombre del trámite -->
                        <div class="mb-3">
                            <label for="nombreTramite" class="form-label">
                                Nombre del trámite/procedimiento
                            </label>
                            <input type="text" class="form-control" id="nombreTramite" required>
                        </div>

                        <!-- Periodo Aplicable -->
                        <div class="mb-3">
                            <label class="form-label">
                                Periodo Aplicable
                            </label>
                            <div class="row">
                                <div class="col-6">
                                    <select class="form-select" id="periodoAnio" required>
                                        <option value="">Año</option>
                                        <option value="2024">2024</option>
                                        <option value="2025">2025</option>
                                        <option value="2026">2026</option>
                                        <option value="2027">2027</option>
                                    </select>
                                </div>
                                <div class="col-6">
                                    <select class="form-select" id="periodoSemestre" required>
                                        <option value="">Semestre</option>
                                        <option value="I">I</option>
                                        <option value="II">II</option>
                                        <option value="III">III</option>
                                        <option value="IV">IV</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="sede" class="form-label">
                                Sede
                            </label>
                            <select class="form-select" id="sede" required>
                                <option value="">Seleccione sede</option>
                                <option value="Principal">Principal</option>
                                <option value="Norte">Norte</option>
                                <option value="Sur">Sur</option>
                                <option value="Este">Este</option>
                                <option value="Oeste">Oeste</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="jornada" class="form-label">
                                Jornada
                            </label>
                            <select class="form-select" id="jornada" required>
                                <option value="">Seleccione jornada</option>
                                <option value="Diurna">Diurna</option>
                                <option value="Nocturna">Nocturna</option>
                            </select>
                        </div>


                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Cancelar
                    </button>
                    <button type="button" class="btn btn-primary" id="btnGuardarTramite">
                        Guardar Trámite
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Opciones del Trámite -->
    <div class="modal fade" id="modalOpcionesTramite" tabindex="-1" aria-labelledby="modalOpcionesTramiteLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title" id="modalOpcionesTramiteLabel">
                        Opciones de trámite
                    </h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex flex-column gap-2">

                        <button type="button" class="btn btn-link text-start p-2 border-0" id="btnGestionarFechas">
                            <i class="fas fa-calendar-alt me-2"></i>
                            Gestionar Fechas
                        </button>
                        <button type="button" class="btn btn-link text-start p-2 border-0" id="btnAnadirDocumentos">
                            <i class="fas fa-file-upload me-2"></i>
                            Documentos Vinculados
                        </button>
                        <button type="button" class="btn btn-link text-start p-2 border-0"
                            id="btnActivarInactivarTramite">
                            <i class="fas fa-pause me-2"></i>
                            <span id="textoActivarInactivar">Activar/Inactivar Trámite</span>
                        </button>
                        <button type="button" class="btn btn-link text-start p-2 border-0" id="btnEliminarTramite">
                            <i class="fas fa-trash me-2"></i>
                            Eliminar Trámite
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Gestionar Fechas -->
    <div class="modal fade" id="modalGestionarFechas" tabindex="-1" aria-labelledby="modalGestionarFechasLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalGestionarFechasLabel">
                        <i class="fas fa-calendar-alt me-2"></i>
                        Gestionar Fechas del Trámite
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Formulario para agregar nuevas fechas -->
                    <form id="formGestionarFechas" class="mb-4">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="nuevaFechaInicio" class="form-label">
                                        Fecha de Inicio
                                    </label>
                                    <input type="date" class="form-control" id="nuevaFechaInicio" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="nuevaFechaFinalizacion" class="form-label">
                                        Fecha de Finalización
                                    </label>
                                    <input type="date" class="form-control" id="nuevaFechaFinalizacion" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="nuevaFechaInicioSubsanacion" class="form-label">
                                        Fecha Inicio Subsanación
                                    </label>
                                    <input type="date" class="form-control" id="nuevaFechaInicioSubsanacion" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="nuevaFechaFinSubsanacion" class="form-label">
                                        Fecha Fin Subsanación
                                    </label>
                                    <input type="date" class="form-control" id="nuevaFechaFinSubsanacion" required>
                                </div>
                            </div>
                        </div>
                        <div class="text-end">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-plus me-2"></i>
                                Agregar Fechas
                            </button>
                        </div>
                    </form>

                    <!-- Tabla de historial de fechas -->
                    <div class="card">
                        <div class="card-header">
                            <h6 class="mb-0">
                                <i class="fas fa-history me-2"></i>
                                Historial de Fechas
                            </h6>
                        </div>
                        <div class="card-body">
                            <div id="tablaHistorialFechasContainer">
                                <!-- La tabla se generará dinámicamente -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Cerrar
                    </button>

                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS -->
    <!-- Scripts core de la aplicación -->
    <script src="assets/js/core/EventManager.js"></script>
    <script src="assets/js/core/StorageManager.js"></script>
    <script src="assets/js/core/BaseController.js"></script>
    <script src="assets/js/core/BaseService.js"></script>
    <script src="assets/js/core/BaseView.js"></script>

    <!-- Scripts de modelos -->
    <script src="assets/js/models/Tramite.js"></script>
    <script src="assets/js/models/Documento.js"></script>
    <script src="assets/js/models/Fecha.js"></script>
    <script src="assets/js/models/Estado.js"></script>

    <!-- Scripts de servicios -->
    <script src="assets/js/services/TramiteService.js"></script>
    <script src="assets/js/services/DocumentoService.js"></script>
    <script src="assets/js/services/FechaService.js"></script>
    <script src="assets/js/services/EstadoService.js"></script>

    <!-- Scripts de controladores -->
    <script src="assets/js/controllers/TramiteController.js"></script>
    <script src="assets/js/controllers/DocumentoController.js"></script>
    <script src="assets/js/controllers/FechaController.js"></script>
    <script src="assets/js/controllers/EstadoController.js"></script>

    <!-- Scripts de vistas -->
    <script src="assets/js/views/TramiteView.js"></script>
    <script src="assets/js/views/DocumentoView.js"></script>
    <script src="assets/js/views/FechaView.js"></script>
    <script src="assets/js/views/EstadoView.js"></script>

    <!-- Script principal de la aplicación -->
    <script src="assets/js/app.js"></script>
</body>

</html>